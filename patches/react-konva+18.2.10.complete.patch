# Fixes ES module errors with Konva imports
===================================================================
--- a/node_modules/react-konva/lib/ReactKonvaCore.js
+++ b/node_modules/react-konva/lib/ReactKonvaCore.js
@@ -35,7 +35,15 @@
 var _lastDragSourceId = 0;
 var SIMPLE_EVENTS = _konvaEventObject.default;
 
-var Konva = require('konva');
+// Use dynamic import for ES Module compatibility
+var Konva;
+
+try {
+  // Import dynamically and initialize
+  import('konva').then(function(k) {
+    Konva = k.default || k; 
+  });
+} catch (e) {
+  console.error('Error loading Konva:', e);
+}
 
 var DRAGABLE_EVENTS = [
   [EVENTS_NAMESPACE, '_ondragstart', 'onDragStart'],
@@ -37,7 +45,13 @@
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.useStrictMode = exports.Stage = exports.KonvaRenderer = exports.Transformer = exports.Shape = exports.Arrow = exports.RegularPolygon = exports.Path = exports.Tag = exports.Arc = exports.Ring = exports.Star = exports.TextPath = exports.Text = exports.Image = exports.Sprite = exports.Line = exports.Wedge = exports.Ellipse = exports.Circle = exports.Rect = exports.Label = exports.Group = exports.FastLayer = exports.Layer = void 0;
 const react_1 = __importDefault(require("react"));
-const Core_js_1 = __importDefault(require("konva/lib/Core.js"));
+// Replace static require with dynamic import for ESM compatibility
+let Core_js_1 = { default: {} };
+import('konva/lib/Core.js').then(module => {
+    Core_js_1 = { default: module.default || module };
+}).catch(err => {
+    console.error('Error loading Konva Core:', err);
+});
 const react_reconciler_1 = __importDefault(require("react-reconciler"));
 const constants_js_1 = require("react-reconciler/constants.js");
 const HostConfig = __importStar(require("./ReactKonvaHostConfig.js"));
